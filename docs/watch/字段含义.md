感谢项目[GroupChatAnnualReport](https://github.com/mobyw/GroupChatAnnualReport)提供
## 数据库字段含义

`group_msg_table` 表中的部分列含义如下：

| 列名  | 类型  | 含义         | 说明                                                                              |
| ----- | ----- | ------------ | --------------------------------------------------------------------------------- |
| 40001 | int   | 消息 ID      |                                                                                   |
| 40003 | int   | 消息序号     | 在每个群聊中依次递增                                                              |
| 40021 | str   | 群号         |                                                                                   |
| 40027 | int   | 群号         |                                                                                   |
| 40030 | int   | 群号         | QQNT 保存的群号                                                                   |
| 40033 | int   | 发送者 QQ 号 | QQNT 保存发送者 QQ 号                                                             |
| 40050 | int   | 时间         | 时间戳                                                                            |
| 40058 | int   | 日期         | 当日 0 时整的时间戳格式，时区为 GMT+0800                                          |
| 40090 | str   | 发送者群名片 | 旧版 QQ 迁移数据中格式为 `name(12345)` 或 `name<i@example.com>`， QQNT 中为群名片 |
| 40093 | str   | 发送者昵称   | 旧版 QQ 此字段为空，QQNT 中未设置群名片时才有此字段                               |
| 40600 | bytes | 撤回状态     | protobuf 格式                                                                     |
| 40800 | bytes | 消息内容     | protobuf 格式                                                                     |
| 40850 | int   | 回复消息序号 | 该消息所回复的消息的序号                                                          |

## Protobuf 消息格式

消息内容 protobuf 的部分字段含义如下：

| Field Number | 类型     | 含义   | 说明                                         |
| ------------ | -------- | ------ | -------------------------------------------- |
| 48000        | protobuf | 消息段 | 一条消息中可以有多个消息段，部分类型中可嵌套 |

消息段（48000）的部分字段含义如下：

| Field Number | 类型     | 含义         | 说明                                                                     |
| ------------ | -------- | ------------ | ------------------------------------------------------------------------ |
| 45001        | int      | 消息段 ID    |                                                                          |
| 45002        | int      | 消息类型     | 1: 文本消息 2: 图片消息 4: 语音消息 7: 引用消息 8: 撤回消息 16: XML 消息 |
| 45101        | str      | 消息文本     | 适用于文本消息                                                           |
| 45102        | str      | 图片文件名   | 适用于图片消息                                                           |
| 45402        | str      | 图片文件名   | 适用于图片消息                                                           |
| 47402        | int      | 原消息序号   | 适用于引用消息                                                           |
| 47403        | int      | 原消息发送者 | 适用于引用消息                                                           |
| 47404        | int      | 原消息时间   | 适用于引用消息                                                           |
| 47423        | protobuf | 引用消息段   | 适用于引用消息                                                           |
| 47713        | str      | 撤回消息后缀 | 适用于撤回消息                                                           |
| 48602        | str      | XML 消息     | 适用于 XML 消息                                                          |
